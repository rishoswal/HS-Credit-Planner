<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />

    <script src="jquery-3.6.0.min.js"></script>
    <script src="course_catalog.js"></script>

    <title>High School Credits Planner</title>
    <script>

        function runtest() {

            let districtDDL = document.getElementById("districtDDL");
            var districtOptions = [];

            school_districts_collection.forEach(district => {
                var option = document.createElement('option');
                option.text = district.school_district_name;
                option.value = district.school_district_id;
                districtOptions.push(option);
            });

            districtOptions = districtOptions.sort(function (a, b) {
                return a.text == b.text ? 0 : a.text > b.text ? 1 : -1;
            });

            districtOptions.forEach(o => {
                districtDDL.add(o);
            });

            // let schoolCatalog = GetCatalog("redmond");
            // document.getElementById("test").innerHTML = schoolCatalog.class9.english[0].name;
            // alert(schoolCatalog.class9.english[0].name);
        }

        function OnDistrictSelectionChanged() {
            var selectedDistrict = document.getElementById("districtDDL");
            var districtText = selectedDistrict.options[selectedDistrict.selectedIndex].text;
            document.getElementById("district").innerHTML = districtText;
        }

        function getSelected(ddl_id1, ddl_id2) {
            var selectedDistrict = document.getElementById(ddl_id1);
            var selectedSchool = document.getElementById(ddl_id2);

            var districtText = selectedDistrict.options[selectedDistrict.selectedIndex].text;
            document.getElementById("district").innerHTML = districtText;

            var schoolText = selectedSchool.options[selectedSchool.selectedIndex].text;
            document.getElementById("school").innerHTML = schoolText;
            let schoolCatalog = GetCatalog(selectedSchool.options[selectedSchool.selectedIndex].value);
            alert(schoolCatalog.class9.english[0].name);

            alert("District: " + districtText + "\n" + "School: " + schoolText);
        }
    </script>
</head>
<body onload="runtest()">
    <h1>High School Credit Planner</h1>
    <br /><br />
    <table width="30%">
        <tr>
            <td>
                School District
            </td>
            <td>
                <select id="districtDDL" onchange="OnDistrictSelectionChanged();">
                    <option value="select">Select</option>
                </select>
            </td>
        </tr>
        <tr>
            <td>
                School
            </td>
            <td>
                <select id="schoolDDL">
                    <option value="select">Select</option>
                    <option value="redmond">Redmond High School</option>
                    <option value="juanita">Juanita High School</option>
                    <option value="eastlake">Eastlake High School</option>
                </select>
            </td>
        </tr>
        <tr>
            <td>
                <button type="confirmationButton" onclick='getSelected("districtDDL", "schoolDDL")'>Confirm</button>
            </td>
        </tr>

    </table>
    <br /><br />
    <div id="district"><b>District</b></div>
    <br />
    <div id="school"><b>School</b></div>
    <br /><br />
    <table>
        <tr>
            <td>
                <table border="1" width="50%">
                    <tr style="height: 50px;background-color:lightblue">
                        <td width="20%">Period</td>
                        <td width="20%">9th Grade</td>
                        <td width="20%">10th Grade</td>
                        <td width="20%">11th Grade</td>
                        <td width="20%">12th Grade</td>
                    </tr>
                    <tr>
                        <td>Period #1</td>
                        <td>
                            <select name="English9" id="english9" size="10" style="width: 150px;">
                                <option value="select">select</option>
                                <option value="eng121">English 9</option>
                                <option value="eng171">Honors English 9</option>
                            </select>
                        </td>
                        <td>
                            <select name="English10" id="english10" size="10" style="width: 150px;">
                                <option value="select">select</option>
                                <option value="eng221">English 10</option>
                                <option value="eng271">Honors English 10</option>
                            </select>
                        </td>
                        <td>
                            <select name="English11" id="english11" size="10" style="width: 150px;">
                                <option value="select">select</option>
                                <option value="eng321">English 11</option>
                                <option value="eng371">Honors English 11</option>
                                <option value="eng491">AP English Language</option>
                                <option value="eng495">AP English Literature</option>
                            </select>
                        </td>
                        <td>
                            <select name="English12" id="english12" size="10" style="width: 150px;">
                                <option value="select">select</option>
                                <option value="eng321">English 12</option>
                                <option value="eng371">Honors English 11</option>
                                <option value="eng491">AP English Language</option>
                                <option value="eng495">AP English Literature</option>
                            </select>
                        </td>
                    </tr>
                </table>
            </td>
            <td>
                <table border="1" width="50%">
                    <tr style="height: 50px;background-color:lightblue">
                        <td width="20%" style="width: 150px;">Subject</td>
                        <td width="20%" style="width: 150px;">Required Credits</td>
                        <td width="20%" style="width: 150px;">Credits for Currently Selected Subjects</td>
                        <td width="20%" style="width: 150px;">11th Grade</td>
                        <td width="20%" style="width: 150px;">12th Grade</td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>